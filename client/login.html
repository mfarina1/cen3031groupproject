<html>

<head>
    <meta charset="UTF-8">
    <title>Petree Print Login</title>
    <link href="./resources/favicon.png" rel="icon">
    <script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"> </script>
    <script>
        var config = {
            apiKey: "AIzaSyC8iqW-J1UCgSg7GHez4SuO51APq_n6AJI",
            authDomain: "cen3031-photography-group3.firebaseapp.com",
            databaseURL: "https://cen3031-photography-group3.firebaseio.com",
            projectId: "cen3031-photography-group3",
            storageBucket: "cen3031-photography-group3.appspot.com",
            messagingSenderId: "194055935448"
        };
        firebase.initializeApp(config);
    </script>
    <script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
    <link rel="stylesheet" type="text/css" href="styles/main.css">


    <script type="text/javascript">
        
        var uiConfig = {
            signInSuccessUrl: '/redirect',
            signInOptions: [{
                // Specify providers you want to offer your users.  
                provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,
                requireDisplayName: false
            }],
            // Terms of service url can be specified and will show up in the widget.  
            tosUrl: '<your-tos-url>'
        };
        
        // Initialize the FirebaseUI Widget using Firebase.  
        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.  
        ui.start('#firebaseui-auth-container', uiConfig);


        window.onload=account()
        
        function account() {
            firebase.auth().onAuthStateChanged(function(user) {
                if (user) {
                    document.getElementById("sign_out").style.display='block';
                    document.getElementById("sign_in").style.display='none';
                } else {
                    document.getElementById("sign_in").style.display='block';
                    document.getElementById("sign_out").style.display='none';
                }
            });
        };

        function signOut() {
            firebase.auth().signOut().then(function() {
                console.log('Signed Out');
            }, function(error) {
                console.error('Sign Out Error', error);
            })
            window.location.href = '/home';
        };

        function signIn() {
            window.location.href = '/login';
        }


    </script>
    <!-- Include a simple background image & and title -->
    <div></div>

<body>
    <nav class="navbar navbar" id="navbar">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">
                    <img src="./resources/petree_logo.png" height="50" alt="">
                </a>
            </div>
            

            <ul class="nav navbar-nav navbar-right">
                <li><a href="/upload">Upload</a></li>
                <li><a href="/trackOrder">Track Order</a></li>
                <li><button class="btn btn-warning navbar-btn" id="sign_out" onclick="signOut()"> Sign Out </button></li>
                <li><button class="btn btn-warning navbar-btn" id="sign_in" onclick="signIn()"> Sign In </button></li>
            </ul>
        </div>
    </nav>
    <div class="aquaSection" id="backgroundAqua">
        <div class="container">
            <div class="loginContainer">
                <div id="firebaseui-auth-container"></div>
                <!-- <form action='/home'>
                    <button type="submit" align="center" width="48" height="20" style="color:green;">Retreat
                        Home</button>
                </form> -->
            </div>
        </div>
    </div>


</body>
</head>

</html>